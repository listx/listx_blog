---
title: "Brother MFC-9840CDW: Setup on Arch Linux, Redux"
tags: arch, linux, hardware, printer
---

This is an update to
[[file:2013-08-07-brother-mfc-9840cdw-linux-setup.html][an earlier
post]] on the same topic.

My printouts had the wrong margins, so that one side on the right would
always get chopped off by half an inch or so (I use US Letter paper). I
felt that the culprit was probably an incorrect printer setting, and so
I determined to fix it.

Googling did not help, and so I tried to find all places where there
could be a setting to change the default paper type. After some digging,
I looked at the official Brother PPD file, which turned out to be just a
plaintext file. In it, I found a section called "Media Selection" and
there was a parameter called "DefaultPageSize", and it was set to A4.
So, I changed it to "Letter". Here is
[[../file/0001-brother-fixed-PPD-margins.patch][a patch]] for the
complete changes.[fn:1]

I've now set up the CUPS printer address to the following:

#+BEGIN_EXAMPLE -n
  http://IP_ADDRESS_OF_PRINTER/POSTSCRIPT_P1
#+END_EXAMPLE

And for the driver, I just use my patched Brother PPD file. The margins
are now correctly set to US Letter size (which is a shame, in a way,
because this is the only way that the margins can be changed). There is
a 1-2 minute delay when printing images, but I lack the knowledge to fix
this new issue.

Hope this helps!

[fn:1] As you might notice, the patch was generated by
       [[http://git-scm.com][git]]. I keep all configuration files in a
       git repository, and I heartily suggest every Linux user to do the
       same.
